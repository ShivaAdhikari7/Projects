{"mappings":"kpBAsBA,IAAAA,EACAC,E,iFArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,iGCAlD,MCQMC,EAAcC,MAAMC,IAC/B,IACE,MAAMC,QAAYC,MAAMF,GAGxB,aAFmBC,EAAIE,M,CAGvB,MAAOC,GACP,MAAMA,C,GCZGC,EAAQ,CACnBC,OAAQ,GACRC,OAAQ,CACNC,MAAO,GACPC,QAAS,GACTC,KAAM,EACNC,cFRwB,KEYfC,EAAcb,MAAMR,IAC/B,MAAMsB,QAAaf,EAAY,oDAAaP,MACtCe,OAAEA,GAAWO,EAAKA,KACxBC,QAAQC,IAAIT,GAEZD,EAAMC,OAAS,CACbf,GAAIe,EAAOf,GACXyB,MAAOV,EAAOW,UACdC,YAAaZ,EAAOY,YACpBC,UAAWb,EAAOa,UAClBC,SAAUd,EAAOc,SACjBC,UAAWf,EAAOgB,WAClBC,MAAOjB,EAAOiB,MACdC,YAAalB,EAAOmB,cAEtBX,QAAQC,IAAIV,EAAMC,OAAO,E,MC5B3BoB,EAAiB,IAAAC,IAAoBjC,EAAA,SAAAkC,QAA6C,SAAQC,OAAAC,KAAA9B,KAAE+B,WCC5FjB,QAAQC,IAAIiB,EAAAN,I,UACZ,MACEO,eAAiBC,SAASC,cAAc,WACxCC,cAAgB,uBAChBC,gBAAkB,4BAClBC,MACAC,QAAQ1B,GACN2B,KAAKF,MAAQzB,EACbC,QAAQC,IAAIyB,KAAKF,OACjB,MAAMG,EAASD,KAAKE,kBACpBF,KAAKG,SACLH,KAAKP,eAAeW,mBAAmB,aAAcH,E,CAGvDI,eACE,MAAMJ,EAAS,6FAQhBT,EAAAN,6FAaDc,KAAAP,eAAsBW,mBAAQ,aAAiBH,E,cASxCK,EAAcN,KAACJ,eACrB,MAAAK,EAAA,8HAIAT,EAAAN,8HAiGAoB,oCAEHN,KAAAP,eAAAW,mBAAe,aAAIH,E,2xJCnJG1C,iBACpB,IAEE,MAAMc,EAAOkC,OAAOC,SAASC,KAAKC,MAAM,GACxCpC,QAAQC,IAAIF,GAEZsC,EAAWN,qBAELjC,EAAkB,4BAIxBuC,EAAWZ,QAAQlC,EAAYC,O,CAC/B,MAAOF,GACP+C,EAAWC,c,EAGfC","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-552fcf0be4b79281.js","src/js/config.js","src/js/helper.js","src/js/model.js","node_modules/@parcel/runtime-js/lib/runtime-644f02e9c3f5eee3.js","src/js/views/recipeView.js","src/js/controller.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"f9fpV\\\":\\\"index.19b76b8c.js\\\",\\\"hfd23\\\":\\\"icons.c14567a0.svg\\\"}\"));","export const API_URL = `https://forkify-api.herokuapp.com/api/v2/recipes/`;\r\nexport const RES_PER_PAGE = 10;\r\nexport const timeout = 10;\r\n","export const timeout = s => {\r\n  return new Promise(function (_, reject) {\r\n    setTimeout(function () {\r\n      reject(new Error(`Request take too long which is ${s}`));\r\n    }, s * 1000);\r\n  });\r\n};\r\n\r\nexport const getJsonData = async url => {\r\n  try {\r\n    const res = await fetch(url);\r\n    const data = await res.json();\r\n\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n","import { API_URL, RES_PER_PAGE } from './config';\r\nimport { getJsonData } from './helper';\r\n\r\nexport const state = {\r\n  recipe: {},\r\n  search: {\r\n    query: '',\r\n    results: [],\r\n    page: 1,\r\n    resultPerPage: RES_PER_PAGE,\r\n  },\r\n};\r\n\r\nexport const loadRecipes = async id => {\r\n  const data = await getJsonData(`${API_URL}${id}`);\r\n  const { recipe } = data.data;\r\n  console.log(recipe);\r\n\r\n  state.recipe = {\r\n    id: recipe.id,\r\n    image: recipe.image_url,\r\n    ingredients: recipe.ingredients,\r\n    publisher: recipe.publisher,\r\n    servings: recipe.servings,\r\n    sourceUrl: recipe.source_url,\r\n    title: recipe.title,\r\n    cookingTime: recipe.cooking_time,\r\n  };\r\n  console.log(state.recipe);\r\n};\r\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hfd23\")).toString();","import icons from '../../img/icons.svg';\r\nconsole.log(icons);\r\nclass RecipeView {\r\n  _parentElement = document.querySelector('.recipe');\r\n  _errorMessage = 'No data can be found';\r\n  _successMessage = 'Successfully get the data';\r\n  _data;\r\n  _render(data) {\r\n    this._data = data;\r\n    console.log(this._data);\r\n    const markup = this._generateMarkup();\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  _loadSpinner() {\r\n    const markup = ` <div class=\"spinner\">\r\n                        <svg>\r\n                        <use href=\"${icons}#icon-loader\"></use>\r\n                        </svg>\r\n                    </div>\r\n    \r\n`;\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  _renderError(message = this._errorMessage) {\r\n    const markup = ` <div class=\"error\">\r\n                        <div>\r\n                        <svg>\r\n                            <use href=\"${icons}#icon-alert-triangle\"></use>\r\n                        </svg>\r\n                        </div>\r\n                        <p>${message}</p>\r\n                    </div>`;\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n  _renderSuccess(message = this._successMessage) {\r\n    const markup = `<div class=\"message\">\r\n                        <div>\r\n                            <svg>\r\n                            <use href=\"${icons}#icon-smile\"></use>\r\n                            </svg>\r\n                        </div>\r\n                        <p>${message}</p>\r\n                    </div>`;\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  _clear() {\r\n    this._parentElement.innerHTML = '';\r\n  }\r\n\r\n  _generateMarkup() {\r\n    return `     <figure class=\"recipe__fig\">\r\n                    <img src=\"${this._data.image}\" alt=\"Tomato\" class=\"recipe__img\" />\r\n                    <h1 class=\"recipe__title\">\r\n                        <span>${this._data.title}</span>\r\n                    </h1>\r\n                    </figure>\r\n\r\n                    <div class=\"recipe__details\">\r\n                    <div class=\"recipe__info\">\r\n                        <svg class=\"recipe__info-icon\">\r\n                        <use href=\"src/img/icons#icon-clock\"></use>\r\n                        </svg>\r\n                        <span class=\"recipe__info-data recipe__info-data--minutes\">${this._data.cookingTime}</span>\r\n                        <span class=\"recipe__info-text\">minutes</span>\r\n                    </div>\r\n                    <div class=\"recipe__info\">\r\n                        <svg class=\"recipe__info-icon\">\r\n                        <use href=\"src/img/icons#icon-users\"></use>\r\n                        </svg>\r\n                        <span class=\"recipe__info-data recipe__info-data--people\">${this._data.servings}</span>\r\n                        <span class=\"recipe__info-text\">servings</span>\r\n\r\n                        <div class=\"recipe__info-buttons\">\r\n                        <button class=\"btn--tiny btn--increase-servings\">\r\n                            <svg>\r\n                            <use href=\"src/img/icons#icon-minus-circle\"></use>\r\n                            </svg>\r\n                        </button>\r\n                        <button class=\"btn--tiny btn--increase-servings\">\r\n                            <svg>\r\n                            <use href=\"src/img/icons#icon-plus-circle\"></use>\r\n                            </svg>\r\n                        </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"recipe__user-generated\">\r\n                        <svg>\r\n                        <use href=\"src/img/icons#icon-user\"></use>\r\n                        </svg>\r\n                    </div>\r\n                    <button class=\"btn--round\">\r\n                        <svg class=\"\">\r\n                        <use href=\"src/img/icons#icon-bookmark-fill\"></use>\r\n                        </svg>\r\n                    </button>\r\n                    </div>\r\n\r\n                    <div class=\"recipe__ingredients\">\r\n                    <h2 class=\"heading--2\">Recipe ingredients</h2>\r\n                    <ul class=\"recipe__ingredient-list\">\r\n                        <li class=\"recipe__ingredient\">\r\n                        <svg class=\"recipe__icon\">\r\n                            <use href=\"src/img/icons#icon-check\"></use>\r\n                        </svg>\r\n                        <div class=\"recipe__quantity\">1000</div>\r\n                        <div class=\"recipe__description\">\r\n                            <span class=\"recipe__unit\">g</span>\r\n                            pasta\r\n                        </div>\r\n                        </li>\r\n\r\n                        <li class=\"recipe__ingredient\">\r\n                        <svg class=\"recipe__icon\">\r\n                            <use href=\"src/img/icons#icon-check\"></use>\r\n                        </svg>\r\n                        <div class=\"recipe__quantity\">0.5</div>\r\n                        <div class=\"recipe__description\">\r\n                            <span class=\"recipe__unit\">cup</span>\r\n                            ricotta cheese\r\n                        </div>\r\n                        </li>\r\n                    </ul>\r\n                    </div>\r\n\r\n                    <div class=\"recipe__directions\">\r\n                    <h2 class=\"heading--2\">How to cook it</h2>\r\n                    <p class=\"recipe__directions-text\">\r\n                        This recipe was carefully designed and tested by\r\n                        <span class=\"recipe__publisher\">${this._data.publisher}</span>. Please check out\r\n                        directions at their website.\r\n                    </p>\r\n                    <a\r\n                        class=\"btn--small recipe__btn\"\r\n                        href=\"${this._data.sourceUrl}\"\r\n                        target=\"_blank\"\r\n                    >\r\n                        <span>Directions</span>\r\n                        <svg class=\"search__icon\">\r\n                        <use href=\"${icons}#icon-arrow-right\"></use>\r\n                        </svg>\r\n                    </a>\r\n                 </div>\r\n        `;\r\n  }\r\n}\r\nexport default new RecipeView();\r\n","import * as model from './model';\nimport recipeView from './views/recipeView';\n\nconst controlRecipe = async function () {\n  try {\n    // Get the id:\n    const data = window.location.hash.slice(1);\n    console.log(data);\n    // Render the spinner:\n    recipeView._loadSpinner();\n    // Get the data :\n    await model.loadRecipes('5ed6604591c37cdc054bc886');\n\n    // Render the data:\n\n    recipeView._render(model.state.recipe);\n  } catch (err) {\n    recipeView._renderError();\n  }\n};\ncontrolRecipe();\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$d3824bf2ef2465db$export$51615d4ae3c0735b","async","url","res","fetch","json","err","$0f1d4402dffacf5b$export$ca000e230c0caa3e","recipe","search","query","results","page","resultPerPage","$0f1d4402dffacf5b$export$fa7e35bc84b7ea73","data","console","log","image","image_url","ingredients","publisher","servings","sourceUrl","source_url","title","cookingTime","cooking_time","$cb59c201e168fdfe$exports","URL","resolve","import","meta","toString","$parcel$interopDefault","_parentElement","document","querySelector","_errorMessage","_successMessage","_data","_render","this","markup","_generateMarkup","_clear","insertAdjacentHTML","_loadSpinner","message","window","location","hash","slice","$d14dc0f178617192$export$2e2bcd8739ae039","_renderError","$f50bd1f2915ed0f2$var$controlRecipe"],"version":3,"file":"index.19b76b8c.js.map"}